# ===== PUERTO RENDER =====
server.port=${PORT:10000}

# ===== BASE DE DATOS POSTGRESQL RENDER =====
spring.datasource.url=jdbc:postgresql://dpg-d4v3jpre5dus73a6d7j0-a.virginia-postgres.render.com:5432/pixelxty?sslmode=require
spring.datasource.username=pixelxty_user
spring.datasource.password=UdiaHz0d26NCIthAOpys2jhna0XnDJXK
spring.datasource.driver-class-name=org.postgresql.Driver

# ===== JPA (TEMPORAL: para que arranque SIN validación) =====
spring.jpa.hibernate.ddl-auto=none
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# ===== HEALTH CHECK PARA RENDER =====
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always
management.endpoint.health.probes.enabled=true

# ===== SECURITY TEMPORAL (para que Render pueda hacer health check) =====
# Desactiva auto-configuración de seguridad que bloquea todo
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration,org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration

# ===== OPTIMIZACIÓN RENDER =====
spring.main.lazy-initialization=true
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=2

# ===== LOGGING PARA DEBUG =====
logging.level.org.springframework=INFO
logging.level.org.springframework.boot=INFO
logging.level.org.springframework.web=INFO
logging.level.org.hibernate=WARN
logging.level.root=WARN